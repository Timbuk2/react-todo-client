{"ast":null,"code":"import _readOnlyError from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\nimport _toConsumableArray from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jonathan/workspace/react/ironhack-todo/src/todo/ToDoItem.js\";\nimport React, { Component } from \"react\";\nimport history from \"../config/history\";\nimport \"./ToDoItemStyle.css\";\nimport axios from \"axios\";\n\nvar ToDoItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToDoItem, _Component);\n\n  function ToDoItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ToDoItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ToDoItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleLogout = function (e) {\n      console.log(\"handles login\");\n      fetch(\"http://localhost:5000/api/logout\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(\"res\", res);\n\n        if (res.message === \"Success\") {\n          console.log(\">> Logged out <<\");\n          history.push(\"/\");\n        }\n      });\n    };\n\n    _this.handleMe = function (e) {\n      console.log(\"handles login\"); // fetch(\"http://localhost:5000/api/tasks/create\", {\n      //   method: \"POST\",\n      //   headers: {\n      //     Accept: \"application/json\",\n      //     \"Content-Type\": \"application/json\"\n      //   },\n      //   credentials: \"include\",\n      //   body: JSON.stringify({})\n      // })\n      //   .then(res => res.json())\n      //   .then(res => {\n      //     console.log(\"res\", res);\n      //     if (res.message === \"Success\") {\n      //       console.log(\">> Logged out <<\");\n      //     }\n      //   });\n    };\n\n    _this.handleA = function (e) {\n      console.log(\"calling GET : /tasks\");\n      fetch(\"http://localhost:5000/api/tasks/\", {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(\"res ALL THE TASKS \", res);\n      });\n    };\n\n    _this.handleB = function (e) {\n      console.log(\"calling POST:  /tasks/create\");\n      fetch(\"http://localhost:5000/api/tasks/create\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(\"res\", res);\n      });\n    };\n\n    _this.handleC = function (e) {\n      console.log(\"calling POST : /tasks/edit/:id\");\n      fetch(\"http://localhost:5000/api/tasks/edit/1\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(\"res\", res);\n\n        if (res.message === \"Success\") {\n          console.log(\">> Logged out <<\");\n        }\n      });\n    };\n\n    _this.handleDelete = function (id) {\n      // get task id and post it\n      var taskId = id;\n      axios.post(\"http://localhost:5000/api/tasks/delete/\" + taskId, {}, {\n        withCredentials: true\n      }).then(function (res) {\n        console.log(\"** POST /task/create\", res);\n\n        _this.resetInput();\n\n        _this.setState(function (prevState) {\n          return {\n            items: [].concat(_toConsumableArray(prevState.items), [{\n              title: _this.state.taskTitle,\n              description: _this.state.taskDescription\n            }])\n          };\n        });\n      }); // .catch(error => {\n      //   console.log(\"500\");\n      //   alert(\"something went wrong. check your network connection\");\n      // });\n    };\n\n    return _this;\n  }\n\n  _createClass(ToDoItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"his.props.todoItem\", this.props.todoItem);\n      var isDoneIcon = \"NOT YET\";\n\n      if (this.props.todoItem.doneyet) {\n        isDoneIcon = (_readOnlyError(\"isDoneIcon\"), \"done\");\n      }\n\n      var div = React.createElement(\"div\", {\n        class: \"todo-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, isDoneIcon), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, this.props.todoItem._id)), React.createElement(\"div\", {\n        class: \"task-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, this.props.todoItem.title), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, this.props.todoItem.description)), React.createElement(\"button\", {\n        class: \"delete-button\",\n        onClick: function onClick() {\n          return _this2.handleDelete(_this2.props.todoItem._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"delete\"));\n      return div;\n    } // render() {\n    //   // const toDoEntries = this.props.entries;\n    //   // const listItems = toDoEntries.map(this.createTasks);\n    //   const divStyle = {\n    //     display: \"flex\",\n    //     \"flex-direction\": \"column\",\n    //     width: \"20vw\",\n    //     margin: \"0 auto\"\n    //   };\n    //   return (\n    //     <div>\n    //       <ul className=\"theList\">\n    //         <li>test</li>\n    //       </ul>\n    //       <div style={divStyle}>\n    //         <button onClick={() => this.handleLogout()}>logout</button>\n    //         {/* <button onClick={() => this.handleMe()}>/TASKS</button> */}\n    //         <button onClick={() => this.handleA()}>/TASKS</button>\n    //         <button onClick={() => this.handleB()}>/TASKS/CREATE</button>\n    //         <button onClick={() => this.handleC()}>/TASKS/EDIT/:ID</button>\n    //         <button onClick={() => this.handleD()}>/TASKS/DELETE/:ID</button>\n    //       </div>\n    //     </div>\n    //   );\n    // }\n\n  }]);\n\n  return ToDoItem;\n}(Component);\n\nexport default ToDoItem;","map":{"version":3,"sources":["/home/jonathan/workspace/react/ironhack-todo/src/todo/ToDoItem.js"],"names":["React","Component","history","axios","ToDoItem","handleLogout","e","console","log","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","message","push","handleMe","handleA","credentials","handleB","handleC","handleDelete","id","taskId","post","withCredentials","resetInput","setState","prevState","items","title","state","taskTitle","description","taskDescription","props","todoItem","isDoneIcon","doneyet","div","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport history from \"../config/history\";\nimport \"./ToDoItemStyle.css\";\nimport axios from \"axios\";\n\nclass ToDoItem extends Component {\n  //   createTasks = item => {\n  //     return (\n  //       <div>\n  //         <li key={item.key} onClick={() => this.props.editTask()}>\n  //           {item.text}\n  //         </li>\n  //         <button onClick={() => this.props.deleteTask(item.key)}>kill me</button>\n  //       </div>\n  //     );\n  //   };\n  handleLogout = e => {\n    console.log(\"handles login\");\n\n    fetch(\"http://localhost:5000/api/logout\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({})\n    })\n      .then(res => res.json())\n      .then(res => {\n        console.log(\"res\", res);\n        if (res.message === \"Success\") {\n          console.log(\">> Logged out <<\");\n          history.push(\"/\");\n        }\n      });\n  };\n\n  handleMe = e => {\n    console.log(\"handles login\");\n\n    // fetch(\"http://localhost:5000/api/tasks/create\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     Accept: \"application/json\",\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   credentials: \"include\",\n    //   body: JSON.stringify({})\n    // })\n    //   .then(res => res.json())\n    //   .then(res => {\n    //     console.log(\"res\", res);\n    //     if (res.message === \"Success\") {\n    //       console.log(\">> Logged out <<\");\n    //     }\n    //   });\n  };\n\n  handleA = e => {\n    console.log(\"calling GET : /tasks\");\n\n    fetch(\"http://localhost:5000/api/tasks/\", {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    })\n      .then(res => res.json())\n      .then(res => {\n        console.log(\"res ALL THE TASKS \", res);\n      });\n  };\n\n  handleB = e => {\n    console.log(\"calling POST:  /tasks/create\");\n\n    fetch(\"http://localhost:5000/api/tasks/create\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    })\n      .then(res => res.json())\n      .then(res => {\n        console.log(\"res\", res);\n      });\n  };\n\n  handleC = e => {\n    console.log(\"calling POST : /tasks/edit/:id\");\n\n    fetch(\"http://localhost:5000/api/tasks/edit/1\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    })\n      .then(res => res.json())\n      .then(res => {\n        console.log(\"res\", res);\n        if (res.message === \"Success\") {\n          console.log(\">> Logged out <<\");\n        }\n      });\n  };\n\n  // handleD = e => {\n  //   console.log(\"calling POST : /tasks/delete/:id\");\n  //   const taskId = 1;\n  //   fetch(\"http://localhost:5000/api/tasks/delete/\" + taskId, {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\"\n  //     },\n  //     credentials: \"include\",\n  //     body: JSON.stringify({})\n  //   })\n  //     .then(res => res.json())\n  //     .then(res => {\n  //       console.log(\"res\", res);\n  //       if (res.message === \"Success\") {\n  //         console.log(\">> Logged out <<\");\n  //       }\n  //     });\n  // };\n\n  handleDelete = id => {\n    // get task id and post it\n    const taskId = id;\n    axios\n      .post(\n        \"http://localhost:5000/api/tasks/delete/\" + taskId,\n        {},\n        { withCredentials: true }\n      )\n      .then(res => {\n        console.log(\"** POST /task/create\", res);\n        this.resetInput();\n        this.setState(prevState => ({\n          items: [\n            ...prevState.items,\n            {\n              title: this.state.taskTitle,\n              description: this.state.taskDescription\n            }\n          ]\n        }));\n      });\n    // .catch(error => {\n    //   console.log(\"500\");\n    //   alert(\"something went wrong. check your network connection\");\n    // });\n  };\n\n  render() {\n    console.log(\"his.props.todoItem\", this.props.todoItem);\n\n    const isDoneIcon = \"NOT YET\";\n    if (this.props.todoItem.doneyet) {\n      isDoneIcon = \"done\";\n    }\n\n    let div = (\n      <div class=\"todo-item\">\n        <div>\n          <span>{isDoneIcon}</span>\n          <span>{this.props.todoItem._id}</span>\n        </div>\n        <div class=\"task-text\">\n          <span>{this.props.todoItem.title}</span>\n          <span>{this.props.todoItem.description}</span>\n        </div>\n        <button\n          class=\"delete-button\"\n          onClick={() => this.handleDelete(this.props.todoItem._id)}\n        >\n          delete\n        </button>\n      </div>\n    );\n\n    return div;\n  }\n\n  // render() {\n  //   // const toDoEntries = this.props.entries;\n  //   // const listItems = toDoEntries.map(this.createTasks);\n\n  //   const divStyle = {\n  //     display: \"flex\",\n  //     \"flex-direction\": \"column\",\n  //     width: \"20vw\",\n  //     margin: \"0 auto\"\n  //   };\n\n  //   return (\n  //     <div>\n  //       <ul className=\"theList\">\n  //         <li>test</li>\n  //       </ul>\n  //       <div style={divStyle}>\n  //         <button onClick={() => this.handleLogout()}>logout</button>\n  //         {/* <button onClick={() => this.handleMe()}>/TASKS</button> */}\n  //         <button onClick={() => this.handleA()}>/TASKS</button>\n  //         <button onClick={() => this.handleB()}>/TASKS/CREATE</button>\n  //         <button onClick={() => this.handleC()}>/TASKS/EDIT/:ID</button>\n  //         <button onClick={() => this.handleD()}>/TASKS/DELETE/:ID</button>\n  //       </div>\n  //     </div>\n  //   );\n  // }\n}\n\nexport default ToDoItem;\n"]},"metadata":{},"sourceType":"module"}