{"ast":null,"code":"import _defineProperty from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jonathan/workspace/react/ironhack-todo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jonathan/workspace/react/ironhack-todo/src/todo/ToDoItem.js\";\nimport React, { Component } from \"react\";\nimport history from \"../config/history\";\nimport \"./ToDoItemStyle.css\";\n\nvar ToDoItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ToDoItem, _Component);\n\n  function ToDoItem() {\n    var _this;\n\n    _classCallCheck(this, ToDoItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToDoItem).call(this));\n\n    _this.componentWillMount = function () {\n      console.log(\"WILL MOUNT\", _this.state);\n      console.log(\"WILL MOUNT  WITH PROPS\", _this.props);\n    };\n\n    _this.componentDidMount = function () {\n      // this.setState({\n      //   _id: this.props.todoItem._id,\n      //   title: this.props.todoItem.title,\n      //   description: this.props.todoItem.description,\n      //   dontyet: this.props.todoItem.doneyet\n      // });\n      console.log(\"did mount\", _this.state);\n    };\n\n    _this.getTaskAsText = function () {\n      return React.createElement(\"div\", {\n        class: \"task-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, _this.props.todoItem.title), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, _this.props.todoItem.description));\n    };\n\n    _this.getTaskAsEditable = function () {\n      return React.createElement(\"div\", {\n        class: \"task-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: _this.props.todoItem.title,\n        onChange: _this.handleValueChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        placeholder: _this.props.todoItem.description,\n        onChange: _this.handleValueChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    };\n\n    _this.getButtonAsUpdateAction = function () {\n      return React.createElement(\"button\", {\n        class: \"delete-button\",\n        onClick: function onClick() {\n          return _this.sendUpdate();\n        } // onClick={() => this.sendUpdate()}\n        // onClick={this.props.handleUpdateAction( )}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Update\");\n    };\n\n    _this.getButtonAsEditAction = function () {\n      return React.createElement(\"button\", {\n        class: \"delete-button\",\n        onClick: _this.props.handleEditAction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Edit\");\n    };\n\n    _this.handleValueChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      _id: \"\",\n      title: \"\",\n      description: \"\",\n      dontyet: false\n    };\n    return _this;\n  }\n\n  _createClass(ToDoItem, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(\"WILL RECV\", nextProps);\n\n      if (this.props !== nextProps) {\n        console.log(\"change props\");\n        this.setState({\n          _id: this.props.todoItem._id,\n          title: this.props.todoItem.title,\n          description: this.props.todoItem.description,\n          dontyet: this.props.todoItem.doneyet\n        });\n        console.log(\"did render\", this.state);\n      } // this.setState({\n      //   _id: this.props.todoItem._id,\n      //   title: this.props.todoItem.title,\n      //   description: this.props.todoItem.description,\n      //   dontyet: this.props.todoItem.doneyet\n      // });\n      // console.log(\"did render\", this.state);\n\n    }\n  }, {\n    key: \"sendUpdate\",\n    value: function sendUpdate() {\n      console.log(\"SENDING UPDATE TO PARENT\", this.state);\n      this.props.handleUpdateAction(this.state._id, this.state.title, this.state.description, this.state.dontyet); // this.props.handleUpdateAction(\n      //   this.props.todoItem._id,\n      //   this.state.title,\n      //   this.state.description,\n      //   this.state.dontyet\n      // );\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"his.props.todoItem\", this.props.todoItem); // this.setState({\n      //   _id: this.props.todoItem._id,\n      //   title: this.props.todoItem.title,\n      //   description: this.props.todoItem.description,\n      //   dontyet: this.props.todoItem.doneyet\n      // });\n      // console.log(\"did render\", this.state);\n\n      var isDoneIcon = \"NOT YET\"; // if (this.props.todoItem.doneyet) {\n      //   isDoneIcon = \"done\";\n      // }\n\n      if (this.props.todoItem.edit) {\n        isDoneIcon = \"EDIT ME\";\n      }\n\n      var task;\n      var actionButton = this.getButtonAsEditAction();\n\n      if (!this.props.todoItem.edit) {\n        task = this.getTaskAsText();\n      } else {\n        task = this.getTaskAsEditable();\n        actionButton = this.getButtonAsUpdateAction();\n      }\n\n      return React.createElement(\"div\", {\n        class: \"todo-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"task-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: function onClick() {\n          return _this2.sendUpdate();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, isDoneIcon)), task, React.createElement(\"div\", {\n        class: \"task-controls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, actionButton, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.props.handleDeleteAction();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Delete\")));\n    }\n  }]);\n\n  return ToDoItem;\n}(Component);\n\nexport default ToDoItem;","map":{"version":3,"sources":["/home/jonathan/workspace/react/ironhack-todo/src/todo/ToDoItem.js"],"names":["React","Component","history","ToDoItem","componentWillMount","console","log","state","props","componentDidMount","getTaskAsText","todoItem","title","description","getTaskAsEditable","handleValueChange","getButtonAsUpdateAction","sendUpdate","getButtonAsEditAction","handleEditAction","event","setState","target","name","value","_id","dontyet","nextProps","doneyet","handleUpdateAction","isDoneIcon","edit","task","actionButton","handleDeleteAction"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport history from \"../config/history\";\nimport \"./ToDoItemStyle.css\";\n\nclass ToDoItem extends Component {\n  constructor() {\n    super();\n    this.state = {\n      _id: \"\",\n      title: \"\",\n      description: \"\",\n      dontyet: false\n    };\n  }\n\n  componentWillMount = () => {\n    console.log(\"WILL MOUNT\", this.state);\n    console.log(\"WILL MOUNT  WITH PROPS\", this.props);\n  };\n\n  componentWillReceiveProps(nextProps) {\n    console.log(\"WILL RECV\", nextProps);\n    if (this.props !== nextProps) {\n      console.log(\"change props\");\n      this.setState({\n        _id: this.props.todoItem._id,\n        title: this.props.todoItem.title,\n        description: this.props.todoItem.description,\n        dontyet: this.props.todoItem.doneyet\n      });\n\n      console.log(\"did render\", this.state);\n    }\n    // this.setState({\n    //   _id: this.props.todoItem._id,\n    //   title: this.props.todoItem.title,\n    //   description: this.props.todoItem.description,\n    //   dontyet: this.props.todoItem.doneyet\n    // });\n\n    // console.log(\"did render\", this.state);\n  }\n\n  componentDidMount = () => {\n    // this.setState({\n    //   _id: this.props.todoItem._id,\n    //   title: this.props.todoItem.title,\n    //   description: this.props.todoItem.description,\n    //   dontyet: this.props.todoItem.doneyet\n    // });\n\n    console.log(\"did mount\", this.state);\n  };\n\n  getTaskAsText = () => {\n    return (\n      <div class=\"task-text\">\n        <span>{this.props.todoItem.title}</span>\n        <span>{this.props.todoItem.description}</span>\n      </div>\n    );\n  };\n\n  getTaskAsEditable = () => {\n    return (\n      <div class=\"task-text\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder={this.props.todoItem.title}\n          onChange={this.handleValueChange}\n        />\n        <input\n          type=\"text\"\n          name=\"description\"\n          placeholder={this.props.todoItem.description}\n          onChange={this.handleValueChange}\n        />\n      </div>\n    );\n  };\n\n  getButtonAsUpdateAction = () => {\n    return (\n      <button\n        class=\"delete-button\"\n        onClick={() => this.sendUpdate()}\n        // onClick={() => this.sendUpdate()}\n        // onClick={this.props.handleUpdateAction( )}\n      >\n        Update\n      </button>\n    );\n  };\n  getButtonAsEditAction = () => {\n    return (\n      <button class=\"delete-button\" onClick={this.props.handleEditAction}>\n        Edit\n      </button>\n    );\n  };\n\n  handleValueChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  sendUpdate() {\n    console.log(\"SENDING UPDATE TO PARENT\", this.state);\n    this.props.handleUpdateAction(\n      this.state._id,\n      this.state.title,\n      this.state.description,\n      this.state.dontyet\n    );\n    // this.props.handleUpdateAction(\n    //   this.props.todoItem._id,\n    //   this.state.title,\n    //   this.state.description,\n    //   this.state.dontyet\n    // );\n  }\n\n  render() {\n    console.log(\"his.props.todoItem\", this.props.todoItem);\n\n    // this.setState({\n    //   _id: this.props.todoItem._id,\n    //   title: this.props.todoItem.title,\n    //   description: this.props.todoItem.description,\n    //   dontyet: this.props.todoItem.doneyet\n    // });\n\n    // console.log(\"did render\", this.state);\n\n    let isDoneIcon = \"NOT YET\";\n    // if (this.props.todoItem.doneyet) {\n    //   isDoneIcon = \"done\";\n    // }\n\n    if (this.props.todoItem.edit) {\n      isDoneIcon = \"EDIT ME\";\n    }\n\n    let task;\n    let actionButton = this.getButtonAsEditAction();\n\n    if (!this.props.todoItem.edit) {\n      task = this.getTaskAsText();\n    } else {\n      task = this.getTaskAsEditable();\n      actionButton = this.getButtonAsUpdateAction();\n    }\n\n    return (\n      <div class=\"todo-item\">\n        <div class=\"task-info\">\n          <span onClick={() => this.sendUpdate()}>{isDoneIcon}</span>\n          {/* <span>{this.props.todoItem._id}</span> */}\n        </div>\n        {task}\n        <div class=\"task-controls\">\n          {actionButton}\n          <button onClick={() => this.props.handleDeleteAction()}>\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ToDoItem;\n"]},"metadata":{},"sourceType":"module"}